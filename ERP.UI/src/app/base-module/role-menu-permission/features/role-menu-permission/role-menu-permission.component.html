<form class="form-validate">
  <div class="row">
    <div class="col-md-4">
      <div class="form-group">
        <label for="role">Role</label>
        <select class="form-control" (change)="handleRoleChange($event.target.value)">
          <option *ngFor="let role of roles" [value]="role.roleID">{{ role.roleName }}</option>
        </select>
      </div>
    </div>
    <div class="col-12">
      <div class="table-responsive border rounded mt-1">
        <h6 class="py-1 mx-1 mb-0 font-medium-2">
          <i data-feather="lock" [size]="20" class="mr-25"></i>
          <span class="align-middle">Permission</span>
        </h6>
        <table class="table table-striped table-borderless">
          <thead class="thead-light">
            <tr>
              <th>Module</th>
              <th>View</th>
              <th>Edit</th>
              <th>Add</th>
              <th>Delete</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let permission of menuPermissions; let i = index">
              <td>{{ permission.menuName }}</td>
              <td>
                <div class="custom-control custom-checkbox">
                  <input class="custom-control-input" type="checkbox" [checked]="permission.allowView" (change)="updatePermission(i, 'allowView', $event.target.checked)" id="allowView{{i}}">
                  <label class="custom-control-label" for="allowView{{i}}">View</label>
                </div>
              </td>
              <td>
                <div class="custom-control custom-checkbox">
                  <input class="custom-control-input" type="checkbox" [checked]="permission.allowEdit" (change)="updatePermission(i, 'allowEdit', $event.target.checked)" id="allowEdit{{i}}">
                  <label class="custom-control-label" for="allowEdit{{i}}">Edit</label>
                </div>
              </td>
              <td>
                <div class="custom-control custom-checkbox">
                  <input class="custom-control-input" type="checkbox" [checked]="permission.allowInsert" (change)="updatePermission(i, 'allowInsert', $event.target.checked)" id="allowInsert{{i}}">
                  <label class="custom-control-label" for="allowInsert{{i}}">Add</label>
                </div>
              </td>
              <td>
                <div class="custom-control custom-checkbox">
                  <input class="custom-control-input" type="checkbox" [checked]="permission.allowDelete" (change)="updatePermission(i, 'allowDelete', $event.target.checked)" id="allowDelete{{i}}">
                  <label class="custom-control-label" for="allowDelete{{i}}">Delete</label>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div class="col-12 d-flex flex-sm-row flex-column mt-2">
      <button
        type="submit"
        (click)="saveChanges()"
        class="btn btn-primary mb-1 mb-sm-0 mr-0 mr-sm-1"
        rippleEffect
      >
        Save Changes
      </button>
      <!-- <button  class="btn btn-outline-secondary" rippleEffect>
        Reset
      </button> -->
    </div>
  </div>
</form>
