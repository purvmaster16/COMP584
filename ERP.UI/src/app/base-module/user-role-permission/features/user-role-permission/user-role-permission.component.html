<div class="content-wrapper container-xxl p-0">
    <div class="col-12">
      <div class="table-responsive border rounded mt-1">
        <h6 class="py-1 mx-1 mb-0 font-medium-2">
          <i data-feather="lock" [size]="20" class="mr-25"></i>
          <span class="align-middle">Permission</span>
        </h6>
        <table class="table table-striped table-borderless">
          <thead class="thead-light">
            <tr>
              <th>Username</th>
              <th *ngFor="let role of roles">{{ role.roleName }}</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let userRole of userRoles">
            <td>{{ userRole.userName }}</td>
              <td *ngFor="let role of roles">
                <div class="custom-control custom-checkbox">
                  <input type="checkbox" class="custom-control-input" [id]="'role-' + role.roleID + '-user-' + userRole.userId"  (change)="toggleRole(userRole, role.roleName)"  [checked]="userRole.roleNames.includes(role.roleName)">
                  <label class="custom-control-label" [for]="'role-' + role.roleID + '-user-' + userRole.userId"></label>        
                </div>
               
                 <!-- <div class="custom-control custom-checkbox">
                  <input type="checkbox" class="custom-control-input" [id]="'role-' + role.id + '-user-' + user.id"   [checked]="user.roles.includes(role.id)" (change)="toggleRole(user, role.id)"/>
                  <label class="custom-control-label" [for]="'role-' + role.id + '-user-' + user.id"></label>
                </div>  -->
              </td>
              <td>
                <button type="button" class="btn btn-primary mb-1 mb-sm-0 mr-0 mr-sm-1" rippleEffect (click)="onSave(userRole)">Save Changes</button>
                <button type="button" class="btn btn-outline-secondary" rippleEffect [swal]="SweetAlertConfirmText">Remove All Role</button>
                <swal #SweetAlertConfirmText (open)="ConfirmTextOpen(userRole.userId)"></swal>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <!-- <div class="col-12 d-flex flex-sm-row flex-column mt-2">
        <button type="submit" class="btn btn-primary mb-1 mb-sm-0 mr-0 mr-sm-1" rippleEffect>
          Save Changes
        </button>
        <button type="reset" class="btn btn-outline-secondary" rippleEffect>Reset</button>
      </div> -->
    </div>
</div>
